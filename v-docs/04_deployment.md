# 04 â€“ Deployment, Operations & Reliability

**Project Name:** seo-blog-checker

> This document explains **how** we run seo-blog-checker locally and handle operational concerns.

---

## 1. Environments & Execution Flow

| Environment | Location | Purpose | Execution Method |
|-------------|----------|---------|------------------|
| **Development** | Local machine | Development and testing | Direct Node.js execution |
| **Production** | Local machine | Regular SEO evaluations | Scheduled execution (cron) |

```mermaid
flowchart LR
    trigger[Manual/Scheduled Trigger] --> validate[Validate Input]
    validate --> extract[Extract Content]
    extract --> evaluate[AI Evaluation]
    evaluate --> report[Generate Report]
    report --> save[Save to File System]
```

## 2. Local Execution Pipeline

| Step | Tool | Notes |
|------|------|-------|
| Input Validation | Node.js | Validate slugs/IDs and config files |
| Content Extraction | WordPress REST API | Fetch blog post data |
| AI Evaluation | Gemini API | Process content through AI |
| Report Generation | Node.js | Create Markdown reports |
| File Output | Node.js fs | Save to organized directory structure |

## 3. Infrastructure Overview

This is a local Node.js application with no cloud infrastructure requirements.

| Component | Tech | Notes |
|-----------|------|-------|
| Runtime | Node.js 18.x LTS | Local execution |
| Storage | Local file system | Reports and configs |
| External APIs | WordPress REST API, Gemini API | Content and AI services |

## 4. Configuration & Secrets

| Mechanism | Tool | Source of Truth |
|-----------|------|-----------------|
| Environment Variables | .env file | Local configuration |
| API Keys | .env file | Gemini API access |
| Config Files | JSON/YAML files | Extraction and evaluation rules |

### Security Considerations
- Store API keys in `.env` file (not committed to git)
- Use `.gitignore` to exclude sensitive files
- Rotate API keys regularly

## 5. Error Handling & Recovery

| Scenario | Detection | Action | Recovery Time |
|----------|-----------|--------|---------------|
| Gemini API failure | HTTP error response | Retry with exponential backoff | < 5 minutes |
| WordPress API failure | HTTP error response | Log error, skip post | Immediate |
| Config file error | Validation failure | Use default config | Immediate |
| File system error | fs.writeFile failure | Retry, then fail | < 1 minute |

## 6. Observability

| Signal | Method | Monitoring |
|--------|--------|------------|
| Logs | Console output | Manual review |
| Errors | Error logging | Check console output |
| Performance | Execution time tracking | Manual measurement |

### Logging Strategy
- Use structured logging for better readability
- Include timestamps and request IDs
- Log both success and failure cases

## 7. Security & Compliance

- **API Key Security:** Store in environment variables, never in code
- **Data Privacy:** No personal data stored, only public blog content
- **Access Control:** Local execution only, no network exposure

## 8. Cost Management

| Service | Cost | Management |
|---------|------|------------|
| Gemini API | Pay-per-use | Monitor usage in Google Cloud Console |
| WordPress API | Free | No cost considerations |

### Cost Optimization
- Cache WordPress responses when possible
- Batch requests to minimize API calls
- Monitor Gemini API usage regularly

## 9. Maintenance & Updates

### Regular Tasks
- Update Node.js dependencies monthly
- Review and rotate API keys quarterly
- Update configuration files as needed
- Monitor Gemini API quota usage

### Backup Strategy
- Version control for configuration files
- Local backup of generated reports
- Export important evaluation results

## 10. Troubleshooting Guide

### Common Issues

**Gemini API Rate Limiting**
```bash
# Check current usage
curl -H "Authorization: Bearer $GEMINI_API_KEY" \
  https://generativelanguage.googleapis.com/v1beta/models
```

**WordPress API Access Issues**
```bash
# Test WordPress API access
curl https://your-site.com/wp-json/wp/v2/posts?per_page=1
```

**Configuration File Errors**
```bash
# Validate configuration files
npm run validate-config
```

## 11. Open Questions / Future Work

1. Should we implement a simple web interface for non-technical users?
2. Do we need to add support for other AI providers as fallbacks?
3. Should we implement result caching to avoid re-evaluating unchanged content?

---

_Document generated by lets-vibe. Adapt for local execution environment._
